# =============================================================================
# Kustomization - Production Overlay
# =============================================================================
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: ai-inference-prod

namespace: ai-inference-prod

# Common labels for production environment
commonLabels:
  environment: prod
  app.kubernetes.io/env: prod
  criticality: high

# Common annotations
commonAnnotations:
  owner: ai-platform-team
  oncall: ai-platform-oncall@company.com

# Base configuration
resources:
  - ../../base
  - ingress.yaml
  - servicemonitor.yaml

# Patches for production
patches:
  - path: production-config.yaml

# Image override for production
images:
  - name: ai-inference
    newName: your-registry.com/ai-inference
    newTag: v1.0.0  # Updated by CI pipeline

# ConfigMap for production environment
configMapGenerator:
  - name: ai-inference-config
    behavior: create
    literals:
      - LOG_LEVEL=WARN
      - DEBUG=false
      - WORKERS=8
      - METRICS_ENABLED=true

# Secret generator (reference external secrets in production)
# secretGenerator:
#   - name: ai-inference-secrets
#     behavior: create
#     envs:
#       - secrets.env
